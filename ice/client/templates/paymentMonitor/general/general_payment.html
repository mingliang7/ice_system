<template name="ice_paymentGeneralMonitor">
{{#if checked}}
  {{> allDocs}}
{{else}}
  {{> general_invoices}}
{{/if}}
</template>

<template name="general_invoices">

</template>


<template name="searchResult">

   <div class="container">
    <div class="row">
      <div class="timeline-centered">
      {{#if isEven _id}}
        <article class="timeline-entry left-aligned">

          <div class="timeline-entry-inner">
            <time class="timeline-time"><p class='label label-warning circle'>{{_customer.customerType}}</p> <span><!-- {{livestamp createdAt}} --></span></time>

            <div class="timeline-icon bg-secondary">
              <i class="entypo-feather"></i>
            </div>

            <div class="timeline-label">
              <h2 class="order-info">#<a href="#" class="order-id {{#if closing}} delete-mark not-active{{/if}}">{{_id}} | {{_customer.name}}</a>
              <br>
              <a href="#" class="i-print {{#if closing}} not-active{{/if}}"><i class="fa fa-print"></i></a>
              <a href="#" class="p-print {{#if closing}} not-active{{/if}}"><i class="fa fa-money"></i></a>
              <span class="bg-blue pull-right {{#if closing}} delete-mark{{/if}}"> Date:{{orderDate}}</span>&nbsp;<!-- <input type="checkbox" name="closing" class="closing" checked="{{closing}}"> --> </h2>
        <!--       <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{progress closing}}%;">
                  60%
                </div>
              </div> -->

              <p class="invoiceId">
                <input type="hidden" class="id" value="{{_id}}">
                <ul class="nav">
                  <li class="{{#if closing}}delete-mark{{/if}}">{{{reportInfo total totalInDollar}}}</li>
                </ul>
              </p>

              <p style="font-size: 15px;">
                ប្រាក់បង់: <span style="font-size: 15px;" class="label label-info">{{formatKH paidAmount}}</span> |
                ប្រាក់ជំពាក់: <span style="font-size: 15px;" class="label label-success">{{formatKH outstandingAmount}}</span>
              </p>
            </div>
          </div>
        </article> <!-- end article -->

      {{else}}

       <article class="timeline-entry ">

          <div class="timeline-entry-inner">
            <time class="timeline-time"><p class="label label-info circle">{{_customer.customerType}}</p> <span><!-- {{livestamp createdAt}} --></span></time>

            <div class="timeline-icon bg-info">
              <i class="entypo-feather"></i>
            </div>

            <div class="timeline-label">
              <h2 class="order-info">#<a href="#" class="order-id {{#if closing}} delete-mark not-active{{/if}}">{{_id}} | {{_customer.customerType}}</a>
              <br>
              <a href="#" class="i-print {{#if closing}} not-active{{/if}}"><i class="fa fa-print"></i></a>
              <a href="#" class="p-print {{#if closing}} not-active{{/if}}"><i class="fa fa-money"></i></a>
              <span class="bg-info pull-right {{#if closing}} delete-mark{{/if}}"> Date:{{orderDate}}</span>&nbsp;<!-- <input type="checkbox" name="closing" class="closing" checked="{{closing}}"> --> </h2>
              <!-- <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{progress _id}}%;">
                  60%
                </div>
              </div> -->

              <p class="invoiceId">
                <input type="hidden" class="id" value="{{_id}}">
                <ul class="nav">
                  <li class="{{#if closing}}delete-mark{{/if}}">{{{reportInfo total totalInDollar}}}</li>
                </ul>
              </p>
              <p style="font-size: 15px;">
                ប្រាក់បង់: <span style="font-size: 15px;" class="label label-info">{{formatKH paidAmount}}</span> |
                ប្រាក់ជំពាក់: <span style="font-size: 15px;" class="label label-success">{{formatKH outstandingAmount}}</span>
              </p>
            </div>
          </div>
        </article> <!-- end article -->
      {{/if}}
  </div>
    </div>
  </div>
</template>


<template name="allDocs">
<div class="container">
<div class="row">
  <div class="col-md-10">
            <div class="input-group custom-search-form">
              {{> esInput index="ice_orders" placeholder="Search..." allDocsOnEmpty=true class='form-control' convertNumber=true}}

              <span class="input-group-btn">
              <button class="btn btn-default" type="button">
                <i class="fa fa-search"></i>
              </button>
             </span>
             </div><!-- /input-group -->
             <br>

  </div>
  <div class="col-md-2">
    {{> filteredPayment}}
  </div>
</div>
<br>
 {{#ifEsIsSearching index="ice_orders"}}
    {{> loading}}
 {{else}}
    {{#esEach index="ice_orders"  }}
      {{> searchResult }}
    {{/esEach}}
    {{> esLoadMoreButton index="ice_orders"}}
 {{/ifEsIsSearching}}
</div>
</template>

<template name="filteredPayment">
  <select class="form-control filter">
    <option value="all">All</option>
    <option value="true">Paid</option>
    <option value="false">Not Paid</option>
  </select>
</template>
